<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playing In The Past</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: radial-gradient(ellipse at bottom right, #6666ff 0%, #3333ff 30%, #0d00ff 100%);
            background-attachment: fixed;
            min-height: 100vh;
            color: #ffffff;
            margin: 0;
            padding: 20px;
            transition: background 1s ease-in-out;
        }

        /* Historical Background Options */
        body.bg-colonial {
            background: linear-gradient(135deg, #654321 0%, #5D4037 50%, #4E342E 100%) !important;
        }

        body.bg-civilwar {
            background: 
                radial-gradient(circle at 30% 70%, rgba(70, 70, 70, 0.4) 0%, transparent 60%),
                radial-gradient(circle at 70% 30%, rgba(47, 79, 79, 0.3) 0%, transparent 50%),
                linear-gradient(135deg, #2F4F4F 0%, #1a1a2e 50%, #16213e 100%) !important;
        }

        body.bg-space {
            background: 
                radial-gradient(ellipse at 40% 20%, rgba(65, 105, 225, 0.2) 0%, transparent 50%),
                linear-gradient(135deg, #000000 0%, #0a0a0a 50%, #1a1a2e 100%) !important;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .title {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #e3f2fd;
        }
        
        .game-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 20px;
        }
        
        .scene-image {
            font-size: 6rem;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .scene-image img {
            width: 480px;
            height: 270px;
            object-fit: cover;
            border-radius: 15px;
        }
        
        .scene-title {
            font-size: 2rem;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .scene-text {
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        .name-section {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .name-section input {
            padding: 12px 20px;
            font-size: 1.1rem;
            border: 2px solid #a855f7;
            border-radius: 8px;
            width: 250px;
            max-width: 100%;
            margin-bottom: 15px;
        }
        
        .start-button {
            background: linear-gradient(90deg, #9333ea 0%, #e11d48 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            display: inline-block;
        }
        
        .choices {
            margin-bottom: 20px;
        }
        
        .choice-button {
            display: block;
            width: 100%;
            background: linear-gradient(90deg, #9333ea 0%, #e11d48 100%);
            color: white;
            padding: 15px 20px;
            margin-bottom: 10px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .choice-button:hover {
            transform: scale(1.02);
        }
        
        .victory-section {
            background: linear-gradient(45deg, #059669, #0891b2);
            border: 2px solid #10b981;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }

        .victory-section h3 {
            color: #ecfdf5;
            margin: 0 0 10px 0;
            font-size: 1.3rem;
        }

        .course-details-section {
            background: rgba(59, 130, 246, 0.2);
            border: 1px solid rgba(59, 130, 246, 0.5);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            white-space: pre-line;
            font-family: monospace;
            font-size: 1rem;
            line-height: 1.6;
        }

        .historical-note {
            background: rgba(245, 158, 11, 0.2);
            border: 1px solid rgba(245, 158, 11, 0.5);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .historical-note h3 {
            margin: 0 0 10px 0;
            color: #fcd34d;
        }
        
        .action-buttons {
            text-align: center;
        }
        
        .btn {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .btn-restart { background: #475569; color: white; }
        .btn-course { background: #059669; color: white; }
        
        .course-info {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 20px;
        }
        
        .course-title {
            font-size: 2rem;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .feature {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        
        .feature-icon {
            font-size: 2rem;
            display: block;
            margin-bottom: 10px;
        }
        
        .course-content {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
        }
        
        .course-list {
            list-style: none;
            padding: 0;
        }
        
        .course-list li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }
        
        .course-list li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: #a855f7;
            font-weight: bold;
        }
        
        .hidden {
            display: none !important;
        }
        
        @media (max-width: 600px) {
            .title { font-size: 2rem; }
            .game-card { padding: 20px; }
            .name-section input { width: 100%; }
            .scene-image img {
                width: 420px;
                height: 237px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header" style="display: none;">
            <h1 class="title" id="mainTitle">Playing In The Past</h1>
            <p class="subtitle" id="mainSubtitle">Experience pivotal moments in American history through interactive storytelling</p>
        </div>

        <div class="game-card">
            <h1 class="title" id="gameTitle" style="text-align: center; margin-bottom: 20px;">Playing In The Past</h1>
            <div class="scene-image" id="sceneImage">üèõÔ∏è</div>
            <h2 class="scene-title" id="sceneTitle">What is your name scholar?</h2>
            <div class="scene-text" id="sceneText">
                Step into the shoes of historical figures and experience pivotal moments in American history. What's your name, time traveler?
            </div>

            <!-- Name Input Section -->
            <div class="name-section" id="nameSection">
                <input type="text" id="playerName" placeholder="Enter your name..." maxlength="20">
                <br>
                <button class="start-button" onclick="startGame()" id="startButton">Begin Your Journey</button>
            </div>

            <!-- Disclaimer Section (only on start page) -->
            <div class="disclaimer-section" id="disclaimerSection" style="background: rgba(0, 0, 0, 0.1); padding: 15px; border-radius: 8px; margin-top: 20px; font-size: 0.85rem; line-height: 1.4; color: rgba(255, 255, 255, 0.8);">
                <p style="margin: 0 0 8px 0;"><strong>Academic Integrity Notice:</strong> All written content, historical analysis, and educational materials in this interactive experience represent original scholarly work. Primary historical sources have been properly cited according to academic standards as indicated in the citations sections.</p>
                <p style="margin: 0;"><strong>Technical Disclosure:</strong> The programming code for this application was generated using Claude.ai. Some visual elements may include artwork created by artists who potentially utilized AI assistance in their creative process.</p>
            </div>

            <!-- Choices Section -->
            <div class="choices" id="choicesSection"></div>

            <!-- Victory Section -->
            <div class="victory-section hidden" id="victorySection">
                <h3 id="victoryTitle">üéâ Mission Accomplished!</h3>
                <p id="victoryText">This was just a brief window into the kinds of narratives you might be able to make within the course.</p>
            </div>

            <!-- Course Details Section -->
            <div class="course-details-section hidden" id="courseDetailsSection"></div>

            <!-- Historical Note Section -->
            <div class="historical-note hidden" id="historicalNote">
                <h3 id="historicalContextTitle">üìñ Historical Context</h3>
                <p id="historicalText"></p>
            </div>

            <!-- Citations Section -->
            <div class="historical-note hidden" id="citationsSection" style="background: rgba(34, 139, 34, 0.2); border: 1px solid rgba(34, 139, 34, 0.5);">
                <h3 style="color: #90ee90;">üìö Sources & Citations</h3>
                <p id="citationsText">Historical information compiled from multiple academic sources including National Archives, Library of Congress, and peer-reviewed historical journals.</p>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="btn btn-restart" onclick="resetGame()" id="restartButton">‚Üª Restart</button>
                <button class="btn btn-course" onclick="toggleCourseInfo()" id="courseInfoButton">üìñ Course Info</button>
            </div>
        </div>

        <!-- Course Info Panel -->
        <div class="course-info hidden" id="courseInfo">
            <h2 class="course-title">üéì Digital History Course</h2>
            
            <div class="features">
                <div class="feature">
                    <span class="feature-icon">üï∞</span>
                    <h3>Interactive Learning</h3>
                    <p>Engage with history through immersive digital experiences</p>
                </div>
                <div class="feature">
                    <span class="feature-icon">üë•</span>
                    <h3>Collaborative Research</h3>
                    <p>Work together on digital history projects and presentations</p>
                </div>
                <div class="feature">
                    <span class="feature-icon">üìñ</span>
                    <h3>Critical Thinking</h3>
                    <p>Analyze historical sources and understand cause-and-effect relationships</p>
                </div>
            </div>

            <div class="course-content">
                <h3>What You'll Experience:</h3>
                <ul class="course-list">
                    <li>Interactive historical simulations and decision-making scenarios</li>
                    <li>Digital archive research and primary source analysis</li>
                    <li>Multimedia storytelling and historical narrative creation</li>
                    <li>Understanding how technology shapes our interpretation of the past</li>
                </ul>
                
                <div style="text-align: center; margin-top: 20px;">
                    <p style="font-size: 1.2rem; color: #c084fc; font-weight: bold;">Ready to explore history in a whole new way?</p>
                    <p style="color: #d1d5db;">This adventure is just a small taste of what awaits in our Digital History course!</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Game state variables
        let currentScene = 'start';
        let playerName = '';

        // Game scenes data
        const scenes = {
            start: {
                title: "What is your name scholar?",
                image: "https://davidsbennett.github.io/DigitalMediaHistory/Images/digitalhistory.jpg",
                text: "Step into the shoes of historical figures and experience pivotal moments in American history. What's your name, time traveler?",
                isNameInput: true
            },
            
            timePortal: {
                title: "A swirling vortex awaits...",
                image: "https://davidsbennett.github.io/DigitalMediaHistory/Images/timevortex.jpg",
                text: "Welcome, {playerName} to the time rift. Or of course, welcome back? For all I know, you've never been here, or maybe you've been here once, twice, or countless times before. For me though, this... this is always the first time. Now remember, this is just a prototype. Sure.. sure... the vortex is stable. But we are still working out the bugs. We have only stabilized a connection to the American Revolution. We can push you to the early, middle or late periods of the era. While there, you will be inhabiting a historical figure and you will have you make an integral decision that they had to make. I warn you though, if you make the wrong decision, well you may create a paradox. I don't think nature likes paradoxes. So, feel free to make your choices. I'm sure everything will go well. You've studied your history, right? I look forward to seeing you again. What am I kidding, I'll never see you again. I won't remember any of this.",
                choices: [
                    { text: "The Late American Colonies", action: "revolution" },
                ]
            },
            
            revolution: {
                title: "Boston Massachusetts, March 5, 1770",
                image: "https://davidsbennett.github.io/DigitalMediaHistory/Images/boston.jpg",
                text: "You find yourself in the middle of a chaotic swirl of anger, fear, and chaos. You see standing behind a row of red coats a british officer who seems a bit addled as his soldiers don't seem to be listening to his orders.You can easily jump into his perspective, but wait, you see something else. Come down the streets you see in the distance a middle aged black man with a club in his hand shouting, leading a crowd of people forward holding clubs and balls of ice. They look angry and are shouting that they are tired of the British. Maybe taking on the perspective of him might be interesting, of course, it might also be better, to just jump ahead, and get a more bird's eye picture of it all.",
                choices: [
                    { text: "You have chosen to take on the role of Crispus Attucks, the leader of the colonists who protested that fateful day.'", action: "revolutionStay" },
                    { text: "You decide to take on the role of Captain Thomas Preston, trying to get the colonists stop their protests.", action: "revolutionLeave" },
                    { text: "You take on the role of Paul Revere, who while not directly involved in the events took part in shaping the narrative after the fact.", action: "revolutionRally" }
                ]
            },
            
            revolutionStay: {
                title: "Crispus Attucks, 1723 - 1770",
                image: "https://davidsbennett.github.io/DigitalMediaHistory/Images/CrispusAttucks.jpg",
                text: "As you open your eyes and see the curving dense crowded streets of Boston, it all crashes back in on you. You remember growing up in Framingham, MA. (1) You remember the burning anger you had at being controlled, every breath of your life being owed to another. You know when the crowds look at you they just see you as a 'mulatto' or Indian. You even took on the name Michael Johnson in the hopes that they would forget the color of your skin. (2) In the end though, you remember the sweet relief that came from being free, and you also know deeply the fear of being put into slavery. You grip the club tightly in your hand and hold it high and shout, when suddenly the captain of the british guard yells 'FIRE!' and the British soldiers loose their muskets into the crowd. The crowd breaks, and two musket balls tear through your chest.(4) As you lie in the cold snow, you realize that you will die here in a city alone away from any family who may have known you.",
                isEnding: true,
                historicalNote: "",
                citations: "(1)Boston March 12' Pennsylvania Gazette, March 22, 1770, (2) 'Mortuary Notice,' The Boston News-Letter, March 15, 1770. (4) 'to the Printers,' Boston Gazette, December 31, 1770.",
                choices: [
                    { text: "Head back to the rift...", action: "victory" }
                ]
            },
            
            revolutionLeave: {
                title: "Captain Thomas Preston, 1722 - 1798",
                image: "https://davidsbennett.github.io/DigitalMediaHistory/Images/thomaspreston.jpg",
                text: "You find yourself standing amongst a growing crowd of colonists and a line of your soldiers, and you keep trying to tell the crowd to back down, that you are doing everything you can to ensure a peaceful outcome, but there is no end. The crowd kept yelling, 'Come on you Bloody backs, you lobster you lobster scoundrels, fire if you dare, G-d damn you, fire and be damned, we know you dare not‚Ä¶' After that, you see one of the members of the crowd raise up their club and slam it down on one of your Soldiers, who steps a little to one side and immediately fires his gun. You shout at the soldier, 'Why did you fire without orders?' and then you feel a club hit your arm, and you should 'stop firing!' but its too late. The entire line has begun firing into the crowd, and the citizens have begun dropping their clubs and their snowballs they are running. (1) At the end, as two citizens lay dieing on the ground, you knew this would only increase unrest in the city.",
                isEnding: true,
                citations: "'Case of Captain Thomas Preston of the 29th Regiment' Boston Evening Post, published June 25, 1777",
                choices: [
                    { text: "Head back to the rift...", action: "victory" }
                ]
            },
            
            revolutionRally: {
                title: "Paul Revere, 1735 - 1818",
                image: "https://davidsbennett.github.io/DigitalMediaHistory/Images/paulrevere.jpg",
                text: "You find yourself weeks after the massacre thinking that there has to be a better way of to shape the narrative. Word is circulating that the soldiers will be going to trial, and your goal is to ensure tha they are held accountable for murdering five boston citizens. Looking at Henry Pelham's first illustration of the event, you decide a woodcut that gets to the heart of the issue and makes it clear who are the victims in the event would be most useful. You begin by making sure that the British soldiers are lined up in a line, with angular faces to illustrate their aggressive stances. You show the colonists as laborers and gentelemen who are shocked and afraid of the violence, as though it was entirely unexpected. You call the Customs Hall the 'Butcher's Hall' to make it clear what the British are doing here, and show a dog murdered in the strength to sympbolize how loyalty is treated. While you lighten Crispus Attucks' skin, you do indicate that there is at least one individual of a slightly off color complexion. And finally, you erase all of the symbols of violence, and you make the weather beautiful. What stands before you is a rallying cry that will stand the test of time, and unify the colonies in anger against the British.(1)",
                isEnding: true,
                citations: "'The Bloody Massacre' engraved by Paul Revere, 1770 (The Gilder Lehrman Institute)",
                choices: [
                    { text: "Head back to the rift...", action: "victory" }
                ]
            },
            
            civilwar: {
                title: "Lexington Green, April 19, 1775",
                image: "‚öîÔ∏è",
                text: "You find yourself standing with Captain John Parker and about 70 other militiamen on Lexington Green in the early morning hours. British regulars are marching toward you - nearly 700 of them. Captain Parker has just said his famous words about not firing unless fired upon, but if they mean to have a war, let it begin here. The British major is shouting for you to disperse. Your musket feels heavy in your hands. What do you do?",
                citations: "Lexington and Concord battle records: Massachusetts Historical Society; eyewitness accounts compiled by Ezra Stiles; British military reports.",
                choices: [
                    { text: "Stand your ground with the militia", action: "civilwarInform" },
                    { text: "Begin to disperse as ordered", action: "civilwarDefend" },
                    { text: "Try to negotiate with the British officer", action: "civilwarScout" }
                ]
            },
            
            civilwarInform: {
                title: "The Shot Heard 'Round the World",
                image: "üéñÔ∏è",
                text: "You hold your position. In the confusion that follows, someone fires - history will never be sure who. The British regulars open fire, and eight militiamen fall dead. But your courage in the face of overwhelming odds becomes the stuff of legend. The British march on to Concord, but word spreads like wildfire. By the time they return, thousands of militia are waiting. The Revolution has begun in earnest. Historical impact: HIGH",
                isEnding: true,
                historicalNote: "The 'shot heard 'round the world' at Lexington marked the beginning of armed conflict in the American Revolution.",
                citations: "Ralph Waldo Emerson's 'Concord Hymn'; battlefield archaeology reports; Paul Revere's account of April 19, 1775.",
                choices: [
                    { text: "Continue Your Journey Through Time", action: "victory" }
                ]
            },
            
            civilwarDefend: {
                title: "Tactical Retreat",
                image: "üõ°Ô∏è",
                text: "You begin to move away with some of the other militia. In the confusion, shots are fired anyway, but fewer men are in the line of fire. Some of your fellow militia are killed, but your quick thinking saves lives. The British continue to Concord, where the real fighting will take place. Your survival means you'll fight another day. Historical impact: MEDIUM",
                isEnding: true,
                historicalNote: "Many militia members did disperse when faced with overwhelming British force, living to fight in later battles.",
                citations: "Militia tactics and survival: Robert Gross, 'The Minutemen and Their World'; individual soldier accounts from pension records.",
                choices: [
                    { text: "Continue Your Journey Through Time", action: "victory" }
                ]
            },
            
            civilwarScout: {
                title: "The Diplomat",
                image: "üîç",
                text: "You step forward to try to speak with the British officer, but he orders you back. In the tension of the moment, someone's musket discharges - accident or intent, no one knows. The British fire a volley, and men fall around you. Your attempt at diplomacy fails, but historians will note that colonists tried to avoid bloodshed. The war begins despite your efforts. Historical impact: LOW",
                isEnding: true,
                historicalNote: "There were attempts at avoiding bloodshed at Lexington, but the situation was too volatile for successful negotiation.",
                citations: "Diplomatic efforts in early Revolution: David Hackett Fischer, 'Paul Revere's Ride'; British officer reports on colonial behavior.",
                choices: [
                    { text: "Continue Your Journey Through Time", action: "victory" }
                ]
            },
            
            moonlanding: {
                title: "Yorktown, October 19, 1781",
                image: "üöÄ",
                text: "You are a Continental Army soldier standing in the trenches at Yorktown. After six long years of war, Lord Cornwallis and his British army are trapped. The French fleet blocks escape by sea, and American and French forces surround the town by land. Today, the British will surrender. As you watch the red-coated soldiers march out to lay down their arms, you realize you are witnessing the birth of a nation. The British band plays 'The World Turned Upside Down.' What are your thoughts in this historic moment?",
                citations: "Yorktown surrender records: Library of Congress; Continental Army journals; French military archives; Washington's correspondence.",
                choices: [
                    { text: "Feel pride in American independence", action: "moonAbort" },
                    { text: "Think of fallen comrades who didn't live to see this", action: "moonTrust" },
                    { text: "Wonder what kind of nation you'll build", action: "moonGuide" }
                ]
            },
            
            moonAbort: {
                title: "Triumph and Independence",
                image: "‚ö†Ô∏è",
                text: "You feel an overwhelming sense of pride as you watch the British surrender. Years of hardship, hunger, and loss have led to this moment. America is free! You've helped birth a new nation founded on the principle that all men are created equal. The future looks bright, full of possibility and hope. You've been part of something greater than yourself. Historical impact: HIGH",
                isEnding: true,
                historicalNote: "The victory at Yorktown effectively ended the Revolutionary War and secured American independence.",
                citations: "Yorktown victory celebrations: Continental Army pension records; newspaper accounts from 1781; Lafayette's memoirs.",
                choices: [
                    { text: "Continue Your Journey Through Time", action: "victory" }
                ]
            },
            
            moonTrust: {
                title: "Remembering the Fallen",
                image: "üåô",
                text: "As the British lay down their arms, you think of all the friends who died for this moment - at Valley Forge, Brandywine, and a dozen other battles. Their sacrifice made this victory possible. You promise to live in a way that honors their memory and the ideals they died for. This independence was bought with blood and courage. Historical impact: HIGH",
                isEnding: true,
                historicalNote: "An estimated 25,000 Americans died in the Revolutionary War, making their sacrifice meaningful to survivors.",
                citations: "Revolutionary War casualties: Howard Peckham, 'The Toll of Independence'; memoirs of Continental Army veterans; monument inscriptions.",
                choices: [
                    { text: "Continue Your Journey Through Time", action: "victory" }
                ]
            },
            
            moonGuide: {
                title: "Building the Future",
                image: "üß≠",
                text: "Watching the surrender, you wonder what kind of nation America will become. Will it live up to its ideals of liberty and equality? Will it avoid the mistakes of European powers? The war is over, but the real work of building a nation is just beginning. You've helped win independence - now you must help create a lasting democracy. Historical impact: MEDIUM",
                isEnding: true,
                historicalNote: "The challenges of building a new government would prove as difficult as winning the war, leading to the Constitutional Convention.",
                citations: "Post-war challenges: Gordon Wood, 'The Creation of the American Republic'; debates over Articles of Confederation; state ratification records.",
                choices: [
                    { text: "Continue Your Journey Through Time", action: "victory" }
                ]
            },

            victory: {
                title: "The Trip Is Complete",
                image: "üéì",
                text: "You've made it back to the baseline anomaly. I hope you learned a little bit about the past, and understood the nature of what these kinds of narratives could do for you. History isn't just dates and names - it's about real people making difficult decisions that shaped our world. Every choice mattered then, just as your choices matter now.",
                isVictory: true,
                citations: "Sources: National Archives, Smithsonian Institution, various historical databases and peer-reviewed journals on American history education.",
                choices: [
                    { text: "Explore Another Time Period", action: "timePortal" },
                    { text: "Learn About Our Course", action: "courseDetails" }
                ]
            },

            courseDetails: {
                title: "HIST 4490/02:Digital History: Playing With The Past - Spring 2025",
                image: "https://davidsbennett.github.io/DigitalMediaHistory/Images/digitalhistory.jpg",
                text: "Course: HIST 285 - Digital History\nInstructor: Dr. David S. Bennett\nMeeting Times: Tuesday/Thursday 9:30 AM - 10:45 AM\nLocation: SO 3025 \n\nThis very light game-style experience was a short window into the kinds of narratives that can be shaped within digital spaces. My course seeks to challenge students to embrace this medium and create new and innovative narratives that hopefully tell different stories in new and innovative ways. In all truth, this game took all of a weekend to build in total. It began as an idea on a Friday night as a three event choose your own adventure, but quickly was trimmed down to be only one event that explored three historical perspectives.  As a historian, I spent most of my time trying to learn the code and working with claude-ai to get it all to work. If you find this at all interesting, I promise you this is merely just the begining. I'm working on another game that has far more logic systems in the background, not to mention there are other ways in which narratives can be shaped to convey meaning and compel audiences. Consider joining us as we merge the digital and the analogue together give history a new life!\n\nOffice Hours: SO 4083",
                choices: [
                    { text: "Return to Beginning", action: "start" }
                ]
            }
        };

        // Core game functions
        function updateScene() {
            const scene = scenes[currentScene];
            if (!scene) return;

            // Update background based on scene
            updateBackground();

            // Update image
            const imageEl = document.getElementById('sceneImage');
            if (scene.image && (scene.image.startsWith('http') || scene.image.startsWith('data:'))) {
                imageEl.innerHTML = `<img src="${scene.image}" alt="${scene.title}">`;
            } else {
                imageEl.textContent = scene.image;
            }

            // Update title
            document.getElementById('sceneTitle').textContent = scene.title;

            // Update text with player name replacement and line breaks
            let text = scene.text;
            if (text.includes('{playerName}')) {
                text = text.replace('{playerName}', playerName);
            }
            // Process line breaks
            text = text.replace(/\\n/g, '\n');
            document.getElementById('sceneText').innerHTML = text.replace(/\n/g, '<br>');

            // Show/hide scene text section (hide on start page)
            const sceneTextEl = document.getElementById('sceneText');
            if (currentScene === 'start') {
                sceneTextEl.style.display = 'none';
            } else {
                sceneTextEl.style.display = 'block';
            }

            // Show/hide game title (only on start page)
            const gameTitleEl = document.getElementById('gameTitle');
            if (currentScene === 'start') {
                gameTitleEl.style.display = 'block';
            } else {
                gameTitleEl.style.display = 'none';
            }

            // Show/hide disclaimer (only on start page)
            const disclaimerEl = document.getElementById('disclaimerSection');
            if (currentScene === 'start') {
                disclaimerEl.style.display = 'block';
            } else {
                disclaimerEl.style.display = 'none';
            }

            // Show/hide name input section
            const nameSection = document.getElementById('nameSection');
            if (scene.isNameInput) {
                nameSection.classList.remove('hidden');
            } else {
                nameSection.classList.add('hidden');
            }

            // Update choices section
            const choicesSection = document.getElementById('choicesSection');
            choicesSection.innerHTML = '';
            if (scene.choices && !scene.isNameInput) {
                scene.choices.forEach(choice => {
                    const button = document.createElement('button');
                    button.className = 'choice-button';
                    button.textContent = choice.text;
                    button.onclick = () => goToScene(choice.action);
                    choicesSection.appendChild(button);
                });
            }

            // Show/hide victory section
            const victorySection = document.getElementById('victorySection');
            if (scene.isVictory) {
                victorySection.classList.remove('hidden');
            } else {
                victorySection.classList.add('hidden');
            }

            // Show/hide course details section
            const courseDetailsSection = document.getElementById('courseDetailsSection');
            if (scene.isCourseDetails) {
                courseDetailsSection.classList.remove('hidden');
                courseDetailsSection.textContent = scene.text;
            } else {
                courseDetailsSection.classList.add('hidden');
            }

            // Show/hide historical note
            const noteEl = document.getElementById('historicalNote');
            const noteText = document.getElementById('historicalText');
            if (scene.historicalNote) {
                noteText.textContent = scene.historicalNote;
                noteEl.classList.remove('hidden');
            } else {
                noteEl.classList.add('hidden');
            }

            // Show/hide citations section (hide on start page)
            const citationsEl = document.getElementById('citationsSection');
            const citationsText = document.getElementById('citationsText');
            if (currentScene === 'start') {
                citationsEl.classList.add('hidden');
            } else {
                citationsEl.classList.remove('hidden');
                // Use scene-specific citations if available, otherwise use default
                const citationsContent = scene.citations || "Historical information compiled from multiple academic sources including National Archives, Library of Congress, and peer-reviewed historical journals.";
                citationsText.textContent = citationsContent;
            }
        }

        function updateBackground() {
            // Remove all background classes
            document.body.classList.remove('bg-colonial', 'bg-civilwar', 'bg-space');
            
            // Set background based on current scene
            if (currentScene.includes('revolution')) {
                document.body.classList.add('bg-colonial');
            } else if (currentScene.includes('civilwar')) {
                document.body.classList.add('bg-civilwar');
            } else if (currentScene.includes('moon')) {
                document.body.classList.add('bg-space');
            }
        }

        function goToScene(sceneId) {
            currentScene = sceneId;
            updateScene();
        }

        function startGame() {
            const nameInput = document.getElementById('playerName');
            playerName = nameInput.value.trim();
            if (playerName) {
                goToScene('timePortal');
            } else {
                alert('Please enter your name to begin!');
                nameInput.focus();
            }
        }

        function resetGame() {
            currentScene = 'start';
            playerName = '';
            document.getElementById('playerName').value = '';
            updateScene();
            
            // Hide course info panel
            document.getElementById('courseInfo').classList.add('hidden');
        }

        // UI toggle functions
        function toggleCourseInfo() {
            const courseInfo = document.getElementById('courseInfo');
            if (courseInfo.classList.contains('hidden')) {
                courseInfo.classList.remove('hidden');
            } else {
                courseInfo.classList.add('hidden');
            }
        }

        // Initialize when page loads
        window.addEventListener('DOMContentLoaded', function() {
            updateScene();
            
            // Add enter key support for name input
            document.getElementById('playerName').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    startGame();
                }
            });
        });
    </script>
</body>
</html>
